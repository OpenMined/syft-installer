Metadata-Version: 2.4
Name: syft-installer
Version: 0.1.0
Summary: Python installer for SyftBox - programmatic alternative to the TUI installer
Author-email: OpenMined <info@openmined.org>
License: Apache-2.0
Project-URL: Homepage, https://github.com/OpenMined/syft-installer
Project-URL: Documentation, https://github.com/OpenMined/syft-installer#readme
Project-URL: Repository, https://github.com/OpenMined/syft-installer.git
Project-URL: Issues, https://github.com/OpenMined/syft-installer/issues
Keywords: syftbox,installer,federated-learning,privacy
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: requests>=2.31.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: rich>=13.0.0
Requires-Dist: ipywidgets>=8.0.0
Requires-Dist: PyJWT>=2.8.0
Provides-Extra: dev
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: types-requests; extra == "dev"
Dynamic: license-file

# syft-installer

Python library for installing SyftBox - follows the official install.sh implementation while providing programmatic capabilities for notebooks and headless environments.

## Architecture

This installer provides a hybrid approach:

1. **Terminal environments**: Delegates to `syftbox login` TUI (just like install.sh)
2. **Notebook/headless environments**: Implements the OTP flow in Python, then creates the config.json that syftbox expects

Both approaches result in the same outcome - a valid `~/.syftbox/config.json` file that the syftbox client can use.

## Installation

```bash
pip install syft-installer
```

## Quick Start

```python
import syft_installer as si

# Simple one-liner installation
si.install()
```

## Features

- üéØ **Follows install.sh exactly** - Uses the same flow as the official installer
- üñ•Ô∏è **Terminal mode** - Delegates to `syftbox login` TUI when in terminal
- üìì **Notebook support** - Falls back to programmatic auth in Jupyter/Colab
- üåç **Environment variables** - Supports all install.sh environment variables
- üöÄ **Multiple install modes** - interactive, download-only, setup-only
- üì¶ **App installation** - Install SyftBox apps during setup
- üõ†Ô∏è **PATH management** - Automatically updates shell profiles

## Environment Variables

The installer supports all environment variables from install.sh:

```bash
export INSTALL_MODE=download-only  # or setup-only, interactive (default)
export INSTALL_APPS=app1,app2      # Comma-separated list of apps
export DEBUG=true                  # Enable debug output
export ARTIFACT_BASE_URL=https://custom.url  # Custom download URL
```

## Usage Examples

### Basic Installation

```python
import syft_installer as si

# Create installer instance
installer = si.Installer()
installer.install()  # Interactive installation
```

### Pre-configured Installation

```python
import syft_installer as si

# Skip email prompt
installer = si.Installer(email="user@example.com")
installer.install()  # Only prompts for OTP
```

### Programmatic Installation

```python
import syft_installer as si

# Full control over the process
installer = si.Installer(email="user@example.com")
installer.request_otp()

# Get OTP from email
otp = input("Enter OTP: ")  # Or get programmatically
installer.verify_otp(otp)

# Start client
installer.start_client(background=True)
```

### Google Colab

The library automatically detects and adapts to the Colab environment:

```python
import syft_installer as si

# Works seamlessly in Colab notebooks
si.install()  # Uses widgets for input
```

### Installation Modes

```python
import syft_installer as si

# Download only (no setup)
si.install(install_mode="download-only")

# Setup only (assumes binary already downloaded)
si.install(install_mode="setup-only")

# Interactive (default) - full installation with prompts
si.install(install_mode="interactive")

# With app installation
si.install(install_apps="dataroom,whisper")

# Debug mode
si.install(debug=True)
```

### Headless/CI Mode

```python
import syft_installer as si

# For automated environments
installer = si.Installer(
    email="user@example.com",
    headless=True
)

installer.request_otp()
# Get OTP from email programmatically
installer.verify_otp("ABCD1234")
installer.start_client(background=True)
```

## Features

- üöÄ Simple one-liner installation
- üîß Full programmatic control
- üì± OTP-based authentication
- üåç Environment auto-detection (terminal, Jupyter, Colab)
- ü§ñ Headless mode for CI/CD
- ‚ö° Background process management
- üîÑ Token refresh handling

## License

Apache License 2.0
